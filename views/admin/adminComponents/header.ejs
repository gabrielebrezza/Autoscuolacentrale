<link rel="stylesheet" href="/styles/adminHeader.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<header class="header">
    <!-- <img id="desktopLogo" src="https://autoscuolacentrale.com/templates/autoscuola/images/logo_autoscuola.svg" alt="" width="500px"> -->
    <div class="openMenu">
        <span id="toggleMenuBtn" class="material-symbols-outlined">
            menu
        </span>
    </div>
    
</header>
<nav id="navBar">
    <ul>
        <% if (role.role == 'Super') { %>
            <li><a href="/admin/prezzi">Prezzi</a></li>
            <li><a href="/admin/users">Visualizza utenti</a></li>
            <li><a href="/admin/bacheca">Modifica bacheca</a></li>
            <li><a href="/admin/approvazioneUtenti">Approva Utenti</a></li>
            <li><a href="/admin/oreIstruttori">Visualizza Ore Istruttori</a></li>
            <li><a href="/admin/formatoEmail">Modifica formato Email</a></li>
            <li><a href="/admin/storicoFatture">Visualizza Storico Fatture</a></li>
            <% } %>    
        <li><a href="/admin/guides">Visualizza guide</a></li>
        <li><a href="/admin/addGuides">Aggiungi guide</a></li>
        <li>
            <a style="color: red;" href="/admin/login" onclick="logout()">
                <span class="material-symbols-outlined">
                    logout
                </span>
                LogOut
            </a>
        </li>
    </ul>
</nav>
<script>
    const toggleMenuBtn = document.getElementById('toggleMenuBtn');
    const navBar = document.getElementById('navBar');
    const navBarItems = document.querySelector('#navBar ul')
    toggleMenuBtn.addEventListener('click', () => {
        toggleMenuBtn.style.rotate = toggleMenuBtn.style.rotate == '90deg' ? '0deg' : '90deg';
        navBar.style.width = navBar.style.width == '300px' ? 0 : '300px';
        navBarItems.style.display = navBarItems.style.display == 'block' ? 'none' : 'block';
        setTimeout(() =>{     
            navBarItems.style.opacity = navBarItems.style.opacity == 1 ? 0 : 1;

        }, 350);
        
    });
</script>

<script>
    function logout() {
        fetch('/logout', {
            method: 'POST',
            credentials: 'same-origin'
        })
        .then(response => {
            if (response.ok) {
                window.location.href = '/admin/login';
            } else {
                console.error('Logout fallito');
            }
        })
        .catch(error => {
            console.error('Errore durante il logout:', error);
        });
    }
</script>
